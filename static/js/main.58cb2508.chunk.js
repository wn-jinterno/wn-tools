(this["webpackJsonpwn-tools"]=this["webpackJsonpwn-tools"]||[]).push([[0],{173:function(e,t,n){},177:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},291:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(25),i=n.n(a),c=(n(173),n(174),n(53)),l=n(24),s=n(10),d=(n(177),n(43)),b="SET_IS_LOADING",j="RESET_STATE",u="SET_STATUS_MESSAGE",h="SET_FLOW_TREE",p="SET_FLOW_TREE_EXPORT_NAME",f="SET_FLOW_TREE_EXPORT_NODES",O="SET_AVAILABLE_NODES",x="SET_JSON_EDITOR_CONTENT",g="SET_FLOW_TREE_PARSING_ERROR",T=function(e){return{type:u,payload:{statusMessage:e}}},m=function(e){return{type:b,payload:{isLoading:e}}},w=function(e){return{type:h,payload:{flowTree:e}}},N=function(e){return{type:p,payload:{flowTreeExportName:e}}},v=function(e){return{type:f,payload:{flowTreeExportNodes:e}}},E=function(e){return{type:x,payload:{jsonEditorContent:e}}},C=n(305),_=n(3),y=function(e){var t=e.title,n=(e.description,e.withLinkToHome),o=e.children,r=e.navChildren;return Object(_.jsxs)(s.a,{width:"100%",height:"100%",children:[Object(_.jsxs)(s.b,{width:"100%",height:60,p:15,bg:"white",alignItems:"center",sx:{borderBottom:"1px solid #d8d8d8",position:"absolute",top:0,left:0,zIndex:1},children:[n&&Object(_.jsx)(s.b,{marginRight:15,children:Object(_.jsx)(c.b,{to:"/",style:{textDecoration:"none",color:"#6D6D6D"},children:Object(_.jsx)(C.a,{size:32})})}),Object(_.jsx)(s.c,{p:2,fontSize:24,fontWeight:"bold",children:t}),Object(_.jsx)(s.a,{mx:"auto"}),r]}),Object(_.jsx)(s.b,{width:"100%",height:"100%",sx:{paddingTop:"60px"},children:o})]})},D=n(332),S=function(){return Object(_.jsx)(y,{title:"Home",children:Object(_.jsx)(s.b,{width:"100%",px:"25%",py:30,alignItems:"center",children:Object(_.jsx)(s.b,{width:"100%",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",children:[{name:"Flow Tree Tool",link:"/flowtreetool"},{name:"Test Tool 1",link:"/testtool1"},{name:"Test Tool 2",link:"/testtool2"},{name:"Test Tool 3",link:"/testtool3"}].map((function(e,t){return Object(_.jsx)(s.b,{my:15,mx:15,borderRadius:32,width:150,children:Object(_.jsx)(c.b,{style:{fontSize:"0.9rem",width:"100%",textDecoration:"none",color:"black"},to:e.link,children:Object(_.jsxs)(s.a,{width:"100%",children:[Object(_.jsx)(s.a,{width:"100%",height:150,children:Object(_.jsx)(D.a,{name:e.name,size:150})}),Object(_.jsx)(s.b,{width:"100%",justifyContent:"center",p:15,children:e.name})]})})},e.name)}))})})})},F=Object(d.b)((function(e,t){return{isLoading:e.global.isLoading,statusMessage:e.global.statusMessage}}),(function(e){return{setIsLoading:function(t){return e(m(t))},setStatusMessage:function(t){return e(T(t))}}}))(S),R=n(11),I=n(54),k=n(55),A=n(59),L=n(58),P=n(328),J=n(306),M=n(112),B=n(316),W=n(337),z=n(314),G=n(315),H=n(40),K=n(19),U=function(e){var t=e.errorMessage;return Object(_.jsxs)(s.b,{flexDirection:"column",width:"100%",height:"100%",padding:30,backgroundColor:"#FFCCCC",children:[Object(_.jsx)(s.b,{marginBottom:50,children:Object(_.jsx)(J.a,{color:"#cc0000",fontSize:"2em",children:"ERROR"})}),Object(_.jsx)(s.b,{children:Object(_.jsx)(J.a,{color:"#cc0000",lineHeight:"1em",fontSize:"1em",children:t})})]})},X=function(e){var t=e.title,n=e.actionsCmp;return Object(_.jsxs)(s.b,{flexDirection:"row",justifyContent:"space-between",sx:{padding:"15px",paddingLeft:0,paddingRight:0},children:[Object(_.jsx)(s.b,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:Object(_.jsx)(J.a,{fontSize:"1.1rem",fontWeight:"bold",children:t})}),Object(_.jsx)(s.b,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:n})]})},V=n(62),q=n(98),Y=n.n(q),Q=n(13),Z=n.n(Q),$=n(308),ee=n(57),te=function(e){var t=e.icon,n=e.iconColor,o=void 0===n?"#d9d9d9":n,r=e.textColor,a=void 0===r?"#d9d9d9":r,i=e.children,c=e.style,l=void 0===c?{}:c;return Object(_.jsxs)(s.b,{flexDirection:"column",width:"100%",height:"100%",padding:30,justifyContent:"center",alignItems:"center",sx:Object(R.a)({},l),children:[t&&Object(_.jsx)(s.b,{marginBottom:20,children:Object(_.jsx)(ee.a,{color:o,icon:t,size:50})}),Object(_.jsx)(J.a,{fontSize:24,fontWeight:"bold",textAlign:"center",lineHeight:1.5,color:a,children:i})]})},ne=n(159),oe={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:3,borderRadius:2,borderColor:"#d9d9d9",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},re={borderColor:"#2196f3"},ae={borderColor:"#00e676"},ie={borderColor:"#ff1744"},ce=function(e){var t=e.onDrop,n=e.children,r=e.parentCanDrop,a=e.parentIsOver,i=Object(ne.a)({accept:"application/JSON",onDrop:t}),c=i.getRootProps,l=i.getInputProps,s=i.isDragActive,d=i.isDragAccept,b=i.isDragReject,j=Object(o.useMemo)((function(){return Object(R.a)(Object(R.a)(Object(R.a)(Object(R.a)({},oe),s?re:{}),d||r?ae:{}),b||r&&!a?ie:{})}),[s,b,d,r,a]);return Object(_.jsxs)("div",Object(R.a)(Object(R.a)({},c({style:j})),{},{children:[Object(_.jsx)("input",Object(R.a)({},l())),n]}))},le=function(e){var t,n=e.isOver,o=e.canDrop,r=e.onDrop;return Object(_.jsx)("div",{className:Z()("rst__placeholder",(t={},Object(V.a)(t,"rst__placeholderLandingPad",o),Object(V.a)(t,"rst__placeholderCancelPad",o&&!n),Object(V.a)(t,Y.a.rst__placeholderLandingPad,o),Object(V.a)(t,Y.a.rst__placeholderCancelPad,o&&!n),t),Y.a.sortabletree__placeholder),children:Object(_.jsx)(ce,{parentCanDrop:o,parentIsOver:n,onDrop:r,children:Object(_.jsx)(te,{icon:$.a,children:"Add Nodes or Import JSON File"})})})},se=n(61),de=n.n(se),be=n(161),je=n(163),ue=(n(268),n(269),n(309)),he=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.scaffoldBlockPxWidth,o=t.toggleChildrenVisibility,r=t.connectDragPreview,a=t.connectDragSource,i=t.isDragging,c=t.canDrop,l=t.canDrag,d=t.node,b=t.title,j=t.subtitle,u=t.draggedNode,h=t.path,p=t.treeIndex,f=t.isSearchMatch,O=t.isSearchFocus,x=t.buttons,g=t.className,T=t.style,m=t.didDrop,w=(t.treeId,t.isOver,t.parentNode,t.rowDirection),N=Object(je.a)(t,["scaffoldBlockPxWidth","toggleChildrenVisibility","connectDragPreview","connectDragSource","isDragging","canDrop","canDrag","node","title","subtitle","draggedNode","path","treeIndex","isSearchMatch","isSearchFocus","buttons","className","style","didDrop","treeId","isOver","parentNode","rowDirection"]),v=b||d.title,E=j||d.subtitle,C="rtl"===w?"rst__rtl":null;l&&(e="function"===typeof d.children&&d.expanded?Object(_.jsx)("div",{className:"rst__loadingHandle",children:Object(_.jsx)("div",{className:"rst__loadingCircle",children:Object(be.a)(new Array(12)).map((function(e,t){return Object(_.jsx)("div",{className:Z()("rst__loadingCirclePoint",C)},t)}))})}):a(Object(_.jsx)("div",{className:"rst__moveHandle",children:Object(_.jsx)(s.b,{width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center",children:Object(_.jsx)(ee.a,{icon:ue.a,color:"white"})})}),{dropEffect:"copy"}));var y=u&&Object(H.d)(u,d),D=!m&&i,S={left:-.5*n};return"rtl"===w&&(S={right:-.5*n}),Object(_.jsxs)("div",Object(R.a)(Object(R.a)({style:{height:"100%"}},N),{},{children:[o&&d.children&&(d.children.length>0||"function"===typeof d.children)&&Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{type:"button","aria-label":d.expanded?"Collapse":"Expand",className:Z()(d.expanded?"rst__collapseButton":"rst__expandButton",C),style:S,onClick:function(){return o({node:d,path:h,treeIndex:p})}}),d.expanded&&!i&&Object(_.jsx)("div",{style:{width:n},className:Z()("rst__lineChildren",C)})]}),Object(_.jsx)("div",{className:Z()("rst__rowWrapper",C),children:r(Object(_.jsxs)("div",{className:Z()("rst__row",D&&"rst__rowLandingPad",D&&!c&&"rst__rowCancelPad",f&&"rst__rowSearchMatch",O&&"rst__rowSearchFocus",C,g),style:Object(R.a)({opacity:y?.5:1},T),children:[e,Object(_.jsxs)("div",{className:Z()("rst__rowContents",!l&&"rst__rowContentsDragDisabled",C),children:[Object(_.jsxs)("div",{className:Z()("rst__rowLabel",C),children:[Object(_.jsx)("span",{className:Z()("rst__rowTitle",d.subtitle&&"rst__rowTitleWithSubtitle"),children:"function"===typeof v?v({node:d,path:h,treeIndex:p}):v}),E&&Object(_.jsx)("span",{className:"rst__rowSubtitle",children:"function"===typeof E?E({node:d,path:h,treeIndex:p}):E})]}),Object(_.jsx)("div",{className:"rst__rowToolbar",children:x.map((function(e,t){return Object(_.jsx)("div",{className:"rst__toolbarButton",children:e},t)}))})]})]}))})]}))}}]),n}(o.Component);he.defaultProps={isSearchMatch:!1,isSearchFocus:!1,canDrag:!1,toggleChildrenVisibility:null,buttons:[],className:"",style:{},parentNode:null,draggedNode:null,canDrop:!1,title:null,subtitle:null,rowDirection:"ltr"};var pe=he,fe=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var o;return Object(I.a)(this,n),(o=t.call(this,e)).onTreeChange=function(e){(0,o.props.setFlowTree)(e),o.updateFlowTreeExportNodes(e)},o.updateFlowTreeExportNodes=function(e){var t=o.props,n=t.flowTreeExport,r=t.setFlowTreeExportNodes,a=t.setJsonEditorContent,i=Object(H.b)({treeData:e,ignoreCollapsed:!1,getNodeKey:function(e){return e.treeIndex}}).map((function(e){var t=e.node,n=e.path;return{id:e.treeIndex,name:t.title,parent:n.length>1?n[n.length-2]:null}}));r(i);var c=Object(R.a)(Object(R.a)({},n),{},{nodes:i});a(JSON.stringify(c,null,"\t"))},o.onDeleteClick=function(e){var t=o.props,n=t.flowTree,r=t.setFlowTree,a=Object(H.e)({treeData:n,path:e,getNodeKey:function(e){return e.treeIndex}});r(a),o.updateFlowTreeExportNodes(a)},o.canDrop=function(e){e.node;var t=e.nextParent;e.prevPath,e.nextPath;return 0===o.props.flowTree.length||null!==t},o.onFlowTreeNameChange=function(e){var t=o.props,n=t.setFlowTreeExportName,r=t.flowTreeExport,a=t.setJsonEditorContent;n(e);var i=Object(R.a)(Object(R.a)({},r),{},{name:e});a(JSON.stringify(i,null,"\t"))},o.onExpandAllNodesSwitchChange=function(e){var t=o.props,n=t.flowTree,r=t.setFlowTree;o.setState({allNodesExpanded:e.target.checked},(function(){var t=Object(H.f)({treeData:n,expanded:e.target.checked});r(t)}))},o.onDrop=function(e){if(!Object(K.c)(e)){var t=new FileReader;t.readAsText(e[0],"UTF-8"),t.onload=function(e){try{var t=e.target.result,n=de.a.parse(t);if(!(Object(K.a)(n,"name")&&Object(K.a)(n,"nodes")&&Object(K.d)(n.name)&&Object(K.b)(n.nodes)))throw new Error('JSON format must be { "name": "tree-name", "nodes": [] }');var r=0,a=Object(H.c)({flatData:n.nodes.map((function(e){return null===e.parent&&(r+=1),Object(R.a)(Object(R.a)({},e),{},{title:e.name,expanded:!0})})),getKey:function(e){return e.id},getParentKey:function(e){return e.parent},rootKey:null});if(r>1)throw new Error("Flow tree can only contain a single root node. Found ".concat(r," with null parent."));o.onFlowTreeNameChange(n.name),o.onTreeChange(a),P.a.success("File has been read successfully!")}catch(i){P.a.danger("Error - ".concat(i.message))}},t.onerror=function(e){P.a.danger("Failed to read file!"),t.abort()}}},o.clearAllNodes=function(){var e=o.props.flowTree;Object(K.c)(e)||(o.onTreeChange([]),P.a.notify("Flow tree nodes cleared!"))},o.state={allNodesExpanded:!0},o.fileInputRef=r.a.createRef(),o}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.flowTree,o=t.flowTreeParsingError,r=t.flowTreeExportName;return Object(_.jsx)(s.a,{height:"100%",width:"100%",children:Object(_.jsxs)(s.b,{height:"100%",p:15,paddingTop:0,flexDirection:"column",children:[Object(_.jsx)(X,{title:"Flow Tree",actionsCmp:Object(_.jsxs)(s.b,{flexDirection:"row",flexWrap:"wrap",children:[Object(_.jsx)(s.b,{flexDirection:"column",justifyContent:"center",marginRight:"5px",children:Object(_.jsx)(J.a,{fontSize:12,children:"Tree Name"})}),Object(_.jsx)(s.b,{marginRight:"15px",paddingRight:"15px",sx:{borderRight:"1px solid #c8c8c8"},children:Object(_.jsx)(M.a,{required:!0,value:r,placeholder:"Enter flow tree name",onChange:function(t){return e.onFlowTreeNameChange(t.target.value)}})}),Object(_.jsx)(s.b,{flexDirection:"column",justifyContent:"center",marginRight:"5px",children:Object(_.jsx)(J.a,{fontSize:12,children:"Expand All"})}),Object(_.jsx)(s.b,{flexDirection:"column",justifyContent:"center",marginRight:"15px",paddingRight:"15px",sx:{borderRight:"1px solid #c8c8c8"},children:Object(_.jsx)(B.a,{disabled:Object(K.c)(n),checked:this.state.allNodesExpanded,onChange:this.onExpandAllNodesSwitchChange})}),Object(_.jsx)(s.b,{children:Object(_.jsx)(W.a,{content:"Clear All",children:Object(_.jsx)(z.a,{intent:"danger",icon:G.a,onClick:this.clearAllNodes})})})]})}),Object(K.c)(o)?Object(_.jsx)(H.a,{innerStyle:{padding:"10px"},treeData:n,dndType:"FLOW_TREE_DND_TYPE",onChange:this.onTreeChange,canDrop:this.canDrop,generateNodeProps:function(t){t.node;var n=t.path;return{buttons:[Object(_.jsx)(z.a,{icon:G.a,intent:"danger",onClick:function(){return e.onDeleteClick(n)},style:{border:"none"}})]}},nodeContentRenderer:pe,placeholderRenderer:function(t){var n=t.isOver,o=t.canDrop;return Object(_.jsx)(le,{onDrop:e.onDrop,isOver:n,canDrop:o})}}):Object(_.jsx)(U,{errorMessage:o})]})})}}]),n}(r.a.Component),Oe=Object(d.b)((function(e,t){return Object(R.a)({isLoading:e.global.isLoading,statusMessage:e.global.statusMessage,flowTree:e.global.flowTreeTool.flowTree,flowTreeParsingError:e.global.flowTreeTool.parsingError,flowTreeExport:e.global.flowTreeTool.flowTreeExport,flowTreeExportName:e.global.flowTreeTool.flowTreeExport.name,flowTreeExportNodes:e.global.flowTreeTool.flowTreeExport.nodes,jsonEditorContent:e.global.flowTreeTool.jsonEditorContent},t)}),(function(e){return{setIsLoading:function(t){return e(m(t))},setStatusMessage:function(t){return e(T(t))},setFlowTree:function(t){return e(w(t))},setFlowTreeExportName:function(t){return e(N(t))},setFlowTreeExportNodes:function(t){return e(v(t))},setJsonEditorContent:function(t){return e(E(t))}}}))(fe),xe=n(153),ge=n.n(xe),Te=(n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(327)),me=n(76),we=n(334),Ne=n(317),ve=n(330),Ee=n(321),Ce=n(322),_e=n(323),ye=n(324),De=n(160),Se=function(e){var t=e.fileName,n=e.jsonData,o=Object(K.c)(t)?"new-flow-tree":t;Object(De.a)({data:n,fileName:o,exportType:"json"})},Fe=n(154),Re=n.n(Fe),Ie=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var o;return Object(I.a)(this,n),(o=t.call(this,e)).editorThemeList=[{label:"Monokai",theme:"monokai"},{label:"Github",theme:"github"},{label:"Tomorrow",theme:"tomorrow"},{label:"Kuroir",theme:"kuroir"},{label:"Twilight",theme:"twilight"},{label:"Xcode",theme:"xcode"},{label:"Textmate",theme:"textmate"},{label:"Terminal",theme:"terminal"}],o.onChange=function(e){var t=o.props.setJsonEditorContent;t&&t(e),o.updateTreeDataFromJson(e)},o.updateTreeDataFromJson=function(e){var t=o.props,n=t.setFlowTree,r=t.setFlowTreeExportName,a=t.setFlowTreeExportNodes,i=t.setFlowTreeParsingError;if(Object(K.c)(e))r(""),a([]),n([]),i("");else try{var c=de.a.parse(e);if(!(Object(K.a)(c,"name")&&Object(K.a)(c,"nodes")&&Object(K.d)(c.name)&&Object(K.b)(c.nodes)))throw new Error('JSON format must be { "name": "tree-name", "nodes": [] }');var l=0,s=Object(H.c)({flatData:c.nodes.map((function(e){return null===e.parent&&(l+=1),Object(R.a)(Object(R.a)({},e),{},{title:e.name,expanded:!0})})),getKey:function(e){return e.id},getParentKey:function(e){return e.parent},rootKey:null});if(l>1)throw new Error("Flow tree can only contain a single root node. Found ".concat(l," with null parent."));r(c.name),a(c.nodes),n(s),i("")}catch(d){i(d.message||""),r(""),a([]),n([])}},o.handleFileUpload=function(e){var t=new FileReader;t.readAsText(e.target.files[0],"UTF-8"),t.onload=function(e){try{var t=e.target.result,n=de.a.parse(t);if(!(Object(K.a)(n,"name")&&Object(K.a)(n,"nodes")&&Object(K.d)(n.name)&&Object(K.b)(n.nodes)))throw new Error('JSON format must be { "name": "tree-name", "nodes": [] }');o.onChange(e.target.result),P.a.success("File has been read successfully!")}catch(r){P.a.danger("Error - ".concat(r.message))}},t.onerror=function(e){P.a.danger("Failed to read file!"),t.abort()}},o.onExportBtnClick=function(){var e=o.props,t=e.flowTreeExportName,n=e.jsonEditorContent,r=JSON.parse(n);Se({fileName:t,jsonData:r})},o.renderThemeList=function(){var e=o.state.editorTheme;return Object(_.jsx)(Te.a,{title:"Editor Theme",options:o.editorThemeList.map((function(e){return{label:e.label,value:e.theme}})),selected:e.theme,onSelect:function(e){return o.setState({editorTheme:{label:e.label,theme:e.value}})},children:Object(_.jsx)(me.a,{children:e.label||"Select theme..."})})},o.state={editorTheme:{label:"Github",theme:"github"}},o.fileInputRef=r.a.createRef(),o}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.jsonEditorContent,o=t.flowTreeExportName,r=t.flowTreeExportNodes;return Object(_.jsx)(s.a,{width:"100%",height:"100%",children:Object(_.jsxs)(s.b,{height:"100%",p:15,paddingTop:0,flexDirection:"column",children:[Object(_.jsx)(X,{title:"Flow Tree JSON",actionsCmp:Object(_.jsxs)(s.b,{flexDirection:"row",flexWrap:"wrap",children:[Object(_.jsx)(s.b,{marginRight:"15px",paddingRight:"15px",sx:{borderRight:"1px solid #c8c8c8"},children:Object(_.jsx)(we.a,{position:Ne.a.BOTTOM_RIGHT,content:Object(_.jsx)(ve.a,{children:Object(_.jsxs)(ve.a.Group,{children:[Object(_.jsx)(ve.a.Item,{icon:Ee.a,onSelect:function(){return e.fileInputRef.current.click()},children:Object(_.jsxs)(s.b,{children:[Object(_.jsx)("input",{ref:this.fileInputRef,onChange:this.handleFileUpload,type:"file",style:{display:"none"},accept:"application/JSON"}),"Import JSON"]})}),Object(_.jsx)(ve.a.Divider,{}),Object(_.jsx)(ve.a.Item,{icon:Ce.a,disabled:Object(K.c)(o)||Object(K.c)(r),onSelect:function(){return e.onExportBtnClick()},children:"Export JSON"})]})}),children:Object(_.jsx)(me.a,{iconAfter:_e.a,children:"File"})})}),Object(_.jsx)(s.b,{children:Object(_.jsx)(Re.a,{disabled:Object(K.c)(n),text:n,onCopy:function(){return P.a.notify("Flow tree JSON copied to clipboard!")},children:Object(_.jsx)(me.a,{iconBefore:ye.a,children:"Copy"})})})]})}),Object(_.jsx)(ge.a,{width:"100%",height:"100%",mode:"json",theme:this.state.editorTheme.theme,onChange:this.onChange,value:n,name:"flow-tree-json-editor",editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0}}),Object(_.jsxs)(s.b,{flexDirection:"row",width:"100%",justifyContent:"flex-end",paddingTop:15,children:[Object(_.jsx)(s.b,{flexDirection:"column",justifyContent:"center",marginRight:"15px",children:Object(_.jsx)(J.a,{fontSize:12,fontWeight:"bold",children:"Editor Theme"})}),this.renderThemeList()]})]})})}}]),n}(r.a.Component),ke=Object(d.b)((function(e,t){return Object(R.a)({isLoading:e.global.isLoading,statusMessage:e.global.statusMessage,flowTree:e.global.flowTreeTool.flowTree,flowTreeExport:e.global.flowTreeTool.flowTreeExport,flowTreeExportName:e.global.flowTreeTool.flowTreeExport.name,flowTreeExportNodes:e.global.flowTreeTool.flowTreeExport.nodes,jsonEditorContent:e.global.flowTreeTool.jsonEditorContent},t)}),(function(e){return{setIsLoading:function(t){return e(m(t))},setStatusMessage:function(t){return e(T(t))},setFlowTree:function(t){return e(w(t))},setFlowTreeParsingError:function(t){return e({type:g,payload:{parsingError:t}})},setFlowTreeExportName:function(t){return e(N(t))},setFlowTreeExportNodes:function(t){return e(v(t))},setJsonEditorContent:function(t){return e(E(t))}}}))(Ie),Ae=n(114),Le=n(335),Pe=n(329),Je=n(325),Me=function(e){var t=e.onAddNode,n=r.a.useState(!1),o=Object(Ae.a)(n,2),a=o[0],i=o[1],c=r.a.useState(""),l=Object(Ae.a)(c,2),d=l[0],b=l[1],j=function(){b(""),i(!1)};return Object(_.jsxs)(s.a,{marginRight:"5px",children:[Object(_.jsx)(Le.a,{isShown:a,title:"Add Node",onCloseComplete:j,hasFooter:!1,children:Object(_.jsxs)(s.b,{width:"100%",flexDirection:"column",paddingBottom:15,children:[Object(_.jsx)(Pe.a,{required:!0,label:"Node name",value:d,onChange:function(e){return b(e.target.value)}}),Object(_.jsxs)(s.b,{flexDirection:"row",marginTop:15,justifyContent:"flex-end",children:[Object(_.jsx)(me.a,{marginRight:15,intent:"danger",onClick:j,children:"Cancel"}),Object(_.jsx)(me.a,{onClick:function(){t(d),j()},children:"Add"})]})]})}),Object(_.jsx)(W.a,{content:"Add Node",children:Object(_.jsx)(z.a,{icon:Je.a,onClick:function(){return i(!0)}})})]})},Be=function(e){Object(A.a)(n,e);var t=Object(L.a)(n);function n(e){var o;return Object(I.a)(this,n),(o=t.call(this,e)).onTreeChange=function(e){(0,o.props.setAvailableNodes)(e.map((function(e){return{name:e.title}})))},o.onDeleteClick=function(e){var t=o.props,n=t.availableNodes;(0,t.setAvailableNodes)(Object(H.e)({treeData:n,path:e,getNodeKey:function(e){return e.treeIndex}}))},o.onAddNode=function(e){var t=o.props,n=t.availableNodes;(0,t.setAvailableNodes)(n.concat({name:e}))},o.getAvailableNodes=function(){var e=o.props.availableNodes;return Object(K.c)(e)?[]:e.map((function(e){return{title:e.name}}))},o.handleFileUpload=function(e){o.readJSONFileContent(e.target.files[0])},o.readJSONFileContent=function(e){var t=o.props.setAvailableNodes,n=new FileReader;n.readAsText(e,"UTF-8"),n.onload=function(e){try{var n=de.a.parse(e.target.result);if(!Object(K.a)(n,"availableNodes")||!Object(K.b)(n.availableNodes))throw new Error('JSON format must be: { "availableNodes": [] }');t(n.availableNodes),P.a.success("File has been read successfully!")}catch(o){P.a.danger("Error - ".concat(o.message))}},n.onerror=function(e){P.a.danger("Failed to read file!"),n.abort()}},o.onExportBtnClick=function(){var e=o.props.availableNodes;Se({fileName:"flow-tree-available-nodes",jsonData:{availableNodes:e}})},o.onDrop=function(e){Object(K.c)(e)||o.readJSONFileContent(e[0])},o.clearAllNodes=function(){var e=o.props,t=e.availableNodes,n=e.setAvailableNodes;Object(K.c)(t)||(n([]),P.a.notify("Available nodes cleared!"))},o.fileInputRef=r.a.createRef(),o}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=this.props.availableNodes;return Object(_.jsx)(s.a,{width:"100%",height:"100%",children:Object(_.jsxs)(s.b,{height:"100%",p:15,paddingTop:0,flexDirection:"column",children:[Object(_.jsx)(X,{title:"Nodes",actionsCmp:Object(_.jsxs)(s.b,{flexDirection:"row",flexWrap:"wrap",children:[Object(_.jsx)(s.b,{marginRight:"15px",paddingRight:"15px",sx:{borderRight:"1px solid #c8c8c8"},children:Object(_.jsx)(we.a,{position:Ne.a.BOTTOM_RIGHT,content:Object(_.jsx)(ve.a,{children:Object(_.jsxs)(ve.a.Group,{children:[Object(_.jsx)(ve.a.Item,{icon:Ee.a,onSelect:function(){return e.fileInputRef.current.click()},children:Object(_.jsxs)(s.b,{children:[Object(_.jsx)("input",{ref:this.fileInputRef,onChange:this.handleFileUpload,type:"file",style:{display:"none"},accept:"application/JSON"}),"Import JSON"]})}),Object(_.jsx)(ve.a.Divider,{}),Object(_.jsx)(ve.a.Item,{icon:Ce.a,disabled:Object(K.c)(t),onSelect:function(){return e.onExportBtnClick()},children:"Export JSON"})]})}),children:Object(_.jsx)(me.a,{iconAfter:_e.a,children:"File"})})}),Object(_.jsx)(Me,{onAddNode:this.onAddNode}),Object(_.jsx)(s.b,{children:Object(_.jsx)(W.a,{content:"Clear All",children:Object(_.jsx)(z.a,{intent:"danger",icon:G.a,onClick:this.clearAllNodes})})})]})}),Object(K.c)(t)?Object(_.jsx)(ce,{onDrop:this.onDrop,children:Object(_.jsx)(te,{icon:$.a,children:"Add Nodes or Import JSON File"})}):Object(_.jsx)(H.a,{treeData:this.getAvailableNodes(),dndType:"FLOW_TREE_DND_TYPE",innerStyle:{padding:"10px"},onChange:this.onTreeChange,shouldCopyOnOutsideDrop:!0,canNodeHaveChildren:function(e){return!1},canDrop:function(e){return!1},generateNodeProps:function(t){t.node;var n=t.path;return{buttons:[Object(_.jsx)(z.a,{icon:G.a,intent:"danger",onClick:function(){return e.onDeleteClick(n)},style:{border:"none"}})]}},nodeContentRenderer:pe})]})})}}]),n}(r.a.Component),We=Object(d.b)((function(e,t){return Object(R.a)({isLoading:e.global.isLoading,statusMessage:e.global.statusMessage,availableNodes:e.global.flowTreeTool.availableNodes},t)}),(function(e){return{setIsLoading:function(t){return e(m(t))},setStatusMessage:function(t){return e(T(t))},setAvailableNodes:function(t){return e(function(e){return{type:O,payload:{availableNodes:e}}}(t))}}}))(Be),ze=function(){return Object(_.jsx)(y,{title:"Flow Tree Generator",withLinkToHome:!0,children:Object(_.jsxs)(s.b,{width:"100%",height:"100%",paddingTop:60,sx:{position:"fixed",top:0,left:0},children:[Object(_.jsx)(s.a,{width:2/8,sx:{borderRight:"1px solid #d8d8d8"},children:Object(_.jsx)(We,{})}),Object(_.jsx)(s.a,{width:.5,sx:{borderRight:"1px solid #d8d8d8"},children:Object(_.jsx)(Oe,{})}),Object(_.jsx)(s.a,{width:2/8,children:Object(_.jsx)(ke,{})})]})})},Ge=Object(d.b)((function(e,t){return{isLoading:e.global.isLoading,statusMessage:e.global.statusMessage,flowTreeExportName:e.global.flowTreeTool.flowTreeExport.name,jsonEditorContent:e.global.flowTreeTool.jsonEditorContent}}),(function(e){return{setIsLoading:function(t){return e(m(t))},setStatusMessage:function(t){return e(T(t))}}}))(ze),He=n(326),Ke=function(){return Object(_.jsx)(s.b,{width:"100%",height:"100%",sx:{position:"fixed",top:0,left:0},children:Object(_.jsx)(s.b,{width:"100%",height:"100%",justifyContent:"center",alignItems:"center",children:Object(_.jsxs)(s.b,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:[Object(_.jsx)(s.c,{fontSize:"3em",children:"\xaf\\_(\u30c4)_/\xaf"}),Object(_.jsx)(s.c,{fontSize:"12em",children:"404"}),Object(_.jsx)(s.c,{fontSize:"1.5em",children:"The page does not exist."}),Object(_.jsx)(c.b,{to:"/",style:{textDecoration:"none",color:"black",padding:"15px"},children:Object(_.jsx)(me.a,{iconBefore:He.a,size:"large",marginRight:10,children:"Go Home"})})]})})})};var Ue=function(){return Object(_.jsx)(c.a,{basename:"/wn-tools",children:Object(_.jsx)(s.a,{width:"100%",height:"100%",children:Object(_.jsxs)(l.c,{children:[Object(_.jsx)(l.a,{exact:!0,path:"/",component:F}),Object(_.jsx)(l.a,{path:"/flowtreetool",component:Ge}),Object(_.jsx)(l.a,{component:Ke})]})})})},Xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,339)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),o(e),r(e),a(e),i(e)}))},Ve=n(48),qe=n(74),Ye=n(93),Qe=n.n(Ye),Ze=n(157),$e=n.n(Ze),et={isLoading:!1,statusMessage:"",flowTreeTool:{availableNodes:[],jsonEditorContent:"",flowTree:[],flowTreeExport:{name:"",nodes:[]},parsingError:""}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(R.a)({},et);case u:var n=t.payload.statusMessage;return Object(R.a)(Object(R.a)({},e),{},{statusMessage:n});case b:var o=t.payload.isLoading;return Object(R.a)(Object(R.a)({},e),{},{isLoading:o});case h:var r=t.payload.flowTree;return Object(R.a)(Object(R.a)({},e),{},{flowTreeTool:Object(R.a)(Object(R.a)({},e.flowTreeTool),{},{flowTree:r})});case p:var a=t.payload.flowTreeExportName;return Object(R.a)(Object(R.a)({},e),{},{flowTreeTool:Object(R.a)(Object(R.a)({},e.flowTreeTool),{},{flowTreeExport:Object(R.a)(Object(R.a)({},e.flowTreeTool.flowTreeExport),{},{name:a})})});case f:var i=t.payload.flowTreeExportNodes;return Object(R.a)(Object(R.a)({},e),{},{flowTreeTool:Object(R.a)(Object(R.a)({},e.flowTreeTool),{},{flowTreeExport:Object(R.a)(Object(R.a)({},e.flowTreeTool.flowTreeExport),{},{nodes:i})})});case O:var c=t.payload.availableNodes;return Object(R.a)(Object(R.a)({},e),{},{flowTreeTool:Object(R.a)(Object(R.a)({},e.flowTreeTool),{},{availableNodes:c})});case x:var l=t.payload.jsonEditorContent;return Object(R.a)(Object(R.a)({},e),{},{flowTreeTool:Object(R.a)(Object(R.a)({},e.flowTreeTool),{},{jsonEditorContent:l})});case g:var s=t.payload.parsingError;return Object(R.a)(Object(R.a)({},e),{},{flowTreeTool:Object(R.a)(Object(R.a)({},e.flowTreeTool),{},{parsingError:s})});default:return e}},nt={key:"global",storage:Qe.a,whitelist:[]},ot=Object(Ve.a)({global:Object(qe.a)(nt,tt)}),rt={key:"root",storage:Qe.a,blacklist:["global"],stateReconciler:$e.a},at=Object(qe.a)(rt,ot),it=Object(Ve.b)(at,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),ct=Object(qe.b)(it),lt=n(158);i.a.render(Object(_.jsx)(d.a,{store:it,children:Object(_.jsx)(lt.a,{loading:null,persistor:ct,children:Object(_.jsx)(Ue,{})})}),document.getElementById("root")),Xe()},98:function(e,t,n){e.exports={sortabletree__placeholder:"styles_sortabletree__placeholder__3WEQq",rst__placeholderLandingPad:"styles_rst__placeholderLandingPad__3h_wb",rst__placeholderCancelPad:"styles_rst__placeholderCancelPad__2ulPZ"}}},[[291,1,2]]]);
//# sourceMappingURL=main.58cb2508.chunk.js.map